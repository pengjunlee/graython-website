import{F as U}from"./element-plus-8efUW2IF.js";import{u as V,j as W,t as r,k as j,b as M}from"./index-oFoTUzJR.js";import{a as A}from"./auth-Bh90ZEsL.js";import{d as D,r as B,I as F,h as y,c as i,a as e,S as E,u as o,L as p,P as n,J as m,ah as I,o as l,M as O,a7 as N,U as w,V as J,Q,T as _}from"./@vue-BV9Q_yhH.js";function Y(b,g){let c=0;return function(){const f=new Date().getTime();f-c>=g&&(b(),c=f)}}const q={key:0,class:"popper-content"},K=["onClick"],X={style:{padding:"0 1rem"}},Z=["src"],ee=["onClick"],te={class:"tab-text",style:{"margin-left":"3px"}},se=e("span",{class:"iconbl bl-user-line",style:{"font-size":"2rem"}},null,-1),oe={class:"popper-content"},ne=e("span",{class:"iconbl bl-a-labellist-line"},null,-1),le=e("span",{class:"iconbl bl-calendar-line"},null,-1),ae=e("span",{class:"iconbl bl-note-line"},null,-1),re=e("div",{class:"item-divider"},null,-1),ie=e("span",{class:"iconbl bl-logout-circle-line"},null,-1),me=D({__name:"Header",props:{tabs:{},selectedTab:{}},emits:["update:selectedTab"],setup(b,{emit:g}){const c=B(!0),f=b,{tabs:h,selectedTab:C}=F(f),$=g;function L(k,t){$("update:selectedTab",t)}const a=V(),z=()=>a.userParams.WEB_LOGO_NAME?a.userParams.WEB_LOGO_NAME:j(),P=()=>a.userParams.WEB_LOGO_URL&&M(a.userParams.WEB_LOGO_URL)?a.userParams.WEB_LOGO_URL:"favicon.png",S=()=>{A(),r("Home")},d=B(0);window.addEventListener("scroll",Y(()=>{d.value=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0},100));let x=y(()=>d.value<60?0:d.value>360?1:(d.value-60)/300),G=y(()=>d.value>360),H=y(()=>h.value.filter(k=>k.title!="资源"));return(k,t)=>{const T=U,v=I("bl-row");return l(),i("div",{class:m(["gw-header-root",o(G)?"hide":""]),style:{"backdrop-filter":"blur(6px)"}},[e("div",{class:"header-background",style:E({opacity:o(x)-.05})},null,4),p(v,{class:"head-row mobile-menu",style:{width:"auto"}},{default:n(()=>[p(T,{"popper-class":"popper-dark",placement:"bottom-start",trigger:"hover","show-arrow":!1,"hide-after":0,offset:-5,"open-delay":"2000","close-delay":"2000",transition:"el-zoom-in-top"},{reference:n(()=>[e("div",{onClick:t[0]||(t[0]=s=>c.value=!0),class:"iconbl bl-indent-increase",style:{"font-size":"2rem"}})]),default:n(()=>[o(c)?(l(),i("div",q,[(l(!0),i(O,null,N(o(H),(s,u)=>(l(),i("div",{key:u,class:m(["item","tab",o(C)===s.name?"active":""]),onClick:R=>L(u,s.name)},[e("span",{class:m(["iconfont",s.icon]),style:{color:"var(--gw-bg-font)"}},[e("span",X,w(s.title),1)],2)],10,K))),128))])):J("",!0)]),_:1})]),_:1}),p(v,{class:"head-row logo-menu",style:{width:"auto","justify-content":"center"}},{default:n(()=>[e("div",{class:"gw-logo",onClick:t[1]||(t[1]=s=>o(r)("Home"))},[e("img",{src:P(),style:E(o(W)())},null,12,Z)]),e("div",{class:"project-name",onClick:t[2]||(t[2]=s=>o(r)("Home"))},w(z()),1)]),_:1}),p(v,{class:"head-row tabs pc-menu",style:{"font-size":"2rem"}},{default:n(()=>[(l(!0),i(O,null,N(o(h),(s,u)=>(l(),i("div",{key:u,class:m(["tab",o(C)===s.name?"active":""]),onClick:R=>L(u,s.name)},[e("span",{class:m(["iconfont",s.icon]),style:{color:"var(--gw-bg-font)","font-size":"2rem"}},null,2),e("span",te,w(s.title),1)],10,ee))),128))]),_:1}),p(v,{class:"head-row",width:"'auto'"},{default:n(()=>[o(a).auth&&o(a).auth.status==="已登录"?(l(),Q(T,{key:0,"popper-class":"popper-dark",placement:"bottom-start",trigger:"click","show-arrow":!1,"hide-after":0,offset:-5,transition:"el-zoom-in-top"},{reference:n(()=>[se]),default:n(()=>[e("div",oe,[e("div",{class:"item",onClick:t[3]||(t[3]=s=>o(r)("/todo"))},[ne,_("待办事项 ")]),e("div",{class:"item",onClick:t[4]||(t[4]=s=>o(r)("/plan"))},[le,_("日历计划 ")]),e("div",{class:"item",onClick:t[5]||(t[5]=s=>o(r)("/note"))},[ae,_("便签 ")]),re,e("div",{class:"item",onClick:S},[ie,_("退出登陆 ")])])]),_:1})):(l(),i("span",{key:1,onClick:t[6]||(t[6]=s=>o(r)("Login")),class:"iconbl bl-login-circle-line popper-target"}))]),_:1})],2)}}});export{me as _,Y as t};
